{
  "info": {
    "title": "Test API",
    "version": "1.0.0",
    "description": "Test Express API with autogenerated swagger doc"
  },
  "swagger": "2.0",
  "paths": {
    "/bets/{userId}/{streamId}": {
      "get": {
        "description": "Get all user Bets on a stream",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "userId",
            "description": "User ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "streamId",
            "description": "Stream ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "response": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/Bets"
              }
            }
          }
        }
      }
    },
    "/bets/{userId}": {
      "get": {
        "description": "Get history of user Bets inclusive of active bets",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "userId",
            "description": "User ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "response": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/Bets"
              }
            }
          }
        }
      }
    },
    "/bets/totalStats/{userId}": {
      "get": {
        "description": "Get sum statistics of user bets",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "userId",
            "description": "User ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "response": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/Bets"
              }
            }
          }
        }
      }
    },
    "/bets/totalWon/{userId}": {
      "get": {
        "description": "Get total winning of user bets",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "userId",
            "description": "User ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "response": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/Bets"
              }
            }
          }
        }
      }
    },
    "/bets/totalLost/{userId}": {
      "get": {
        "description": "Get total lost of user bets",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "userId",
            "description": "User ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "response": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/Bets"
              }
            }
          }
        }
      }
    },
    "/bets": {
      "get": {
        "description": "Get all bests in DB",
        "produces": [
          "application/json"
        ],
        "responses": {
          "200": {
            "response": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/Bets"
              }
            }
          }
        }
      },
      "post": {
        "description": "Create a new bet",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "bets",
            "description": "bets object",
            "in": "body",
            "required": true,
            "type": "string",
            "schema": {
              "$ref": "#/definitions/Bets"
            }
          }
        ],
        "responses": {
          "200": {
            "response": {
              "schema": {
                "$ref": "#/definitions/Bets"
              }
            }
          }
        }
      }
    },
    "/bets/{id}": {
      "patch": {
        "description": "Update an existing Bet result",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "user",
            "description": "User object",
            "required": true,
            "schema": {
              "$ref": "#/definitions/User"
            }
          },
          {
            "in": "path",
            "name": "id",
            "description": "User ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "response": {
              "schema": {
                "$ref": "#/definitions/User"
              }
            }
          }
        }
      },
      "delete": {
        "description": "Delete user bet id",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "User ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "response": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/User"
              }
            }
          }
        }
      }
    },
    "/bets/{userId}/{matchId}": {
      "get": {
        "description": "Get all user Bets on a match",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "userId",
            "description": "User ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "matchId",
            "description": "Match ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "response": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/Bets"
              }
            }
          }
        }
      }
    },
    "/stream": {
      "get": {
        "description": "creates a stream object",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "streamURL",
            "description": "Stream object",
            "required": true,
            "type": "string",
            "schema": {
              "$ref": "#/definitions/Stream"
            }
          }
        ],
        "responses": {
          "200": {
            "response": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/Stream"
              }
            }
          }
        }
      },
      "post": {
        "description": "creates a stream object",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "streamURL",
            "description": "Stream object",
            "required": true,
            "type": "string",
            "schema": {
              "$ref": "#/definitions/Stream"
            }
          }
        ],
        "responses": {
          "200": {
            "response": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/Stream"
              }
            }
          }
        }
      }
    },
    "/user/{id}": {
      "patch": {
        "description": "Update an existing User",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "user",
            "description": "User object",
            "required": true,
            "schema": {
              "$ref": "#/definitions/User"
            }
          },
          {
            "in": "path",
            "name": "id",
            "description": "User ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "response": {
              "schema": {
                "$ref": "#/definitions/User"
              }
            }
          }
        }
      },
      "delete": {
        "description": "Delete user bt id",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "User ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "response": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/User"
              }
            }
          }
        }
      }
    },
    "/user": {
      "get": {
        "description": "Get all current users",
        "produces": [
          "application/json"
        ],
        "responses": {
          "200": {
            "response": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/User"
              }
            }
          }
        }
      },
      "post": {
        "description": "Create a new user",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "user",
            "description": "User object",
            "in": "body",
            "required": true,
            "type": "string",
            "schema": {
              "$ref": "#/definitions/User"
            }
          }
        ],
        "responses": {
          "200": {
            "response": {
              "schema": {
                "$ref": "#/definitions/User"
              }
            }
          }
        }
      }
    }
  },
  "definitions": {
    "Bet": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "example": "b91186b4-f2f6-45b3-b67f-b12e47b85198"
        },
        "streamId": {
          "type": "string",
          "example": "b91186b4-f2f6-45b3-b67f-b12e47777777"
        },
        "matchId": {
          "type": "string",
          "example": "b913b2-eeee-bbb3-24424-b12e47b85198"
        },
        "betAmount": {
          "type": "numeric",
          "example": 23.52
        },
        "betResult": {
          "type": "string",
          "example": "win"
        }
      }
    },
    "Stream": {
      "type": "object",
      "properties": {
        "twitchUserName": {
          "type": "string",
          "example": "myTwitchName"
        },
        "streamUrl": {
          "type": "string",
          "example": "https://twitch.com/s/myTwitchName"
        }
      }
    },
    "User": {
      "type": "object",
      "properties": {
        "firstName": {
          "type": "string",
          "example": "Tom"
        },
        "lastName": {
          "type": "string",
          "example": "Brady"
        },
        "email": {
          "type": "string",
          "example": "someEmail@TwitchFighter.com"
        },
        "twitchUsername": {
          "type": "string",
          "example": "tbradyFight"
        },
        "userId": {
          "type": "string",
          "example": "b91186b4-f2f6-45b3-b67f-b12e47b85198"
        }
      }
    }
  },
  "responses": {},
  "parameters": {},
  "securityDefinitions": {},
  "tags": []
}